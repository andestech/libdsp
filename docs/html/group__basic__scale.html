<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Andes DSP Library: Scale Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="andes_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Andes DSP Library
   &#160;<span id="projectnumber">V2.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__basic__scale.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Scale Functions<div class="ingroups"><a class="el" href="group__basic.html">Basic Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga7014d0e2ba8725a7729bae9efe6eca03"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__basic__scale.html#ga7014d0e2ba8725a7729bae9efe6eca03">riscv_dsp_scale_f32</a> (float32_t *src, float32_t scale, float32_t *dst, uint32_t size)</td></tr>
<tr class="separator:ga7014d0e2ba8725a7729bae9efe6eca03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac4a3ba3f038bbf09c19fce5d7fc0c8c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__basic__scale.html#gaac4a3ba3f038bbf09c19fce5d7fc0c8c">riscv_dsp_scale_q31</a> (q31_t *src, q31_t scalefract, int8_t shift, q31_t *dst, uint32_t size)</td></tr>
<tr class="separator:gaac4a3ba3f038bbf09c19fce5d7fc0c8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga63be6b023a64bd1269865e381e06e673"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__basic__scale.html#ga63be6b023a64bd1269865e381e06e673">riscv_dsp_scale_q15</a> (q15_t *src, q15_t scalefract, int8_t shift, q15_t *dst, uint32_t size)</td></tr>
<tr class="separator:ga63be6b023a64bd1269865e381e06e673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab677354a603081f8eca2521cce14c123"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__basic__scale.html#gab677354a603081f8eca2521cce14c123">riscv_dsp_scale_q7</a> (q7_t *src, q7_t scalefract, int8_t shift, q7_t *dst, uint32_t size)</td></tr>
<tr class="separator:gab677354a603081f8eca2521cce14c123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga53345d7b3a25c94cda7c99361667c95b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__basic__scale.html#ga53345d7b3a25c94cda7c99361667c95b">riscv_dsp_scale_u8</a> (uint8_t *src, q7_t scalefract, int8_t shift, uint8_t *dst, uint32_t size)</td></tr>
<tr class="separator:ga53345d7b3a25c94cda7c99361667c95b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Scale functions multiply each element in a source vector by a constant scaling value and write the results one-by-one into a destination vector. In general, its behavior can be defined as follows:</p>
<div class="image">
<img src="scale.gif" alt=""/>
</div>
<p>In cases of fractional presentation, a parameter shift is introduced to adjust the range of result values. For details about the parameter, please refer to functions with fractional data types</p>
<p>Andes DSP library supports distinct scale functions for single-precision floating-point, Q31, Q15, Q7 and U8. These functions are introduced in the subsections below. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga7014d0e2ba8725a7729bae9efe6eca03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7014d0e2ba8725a7729bae9efe6eca03">&#9670;&nbsp;</a></span>riscv_dsp_scale_f32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void riscv_dsp_scale_f32 </td>
          <td>(</td>
          <td class="paramtype">float32_t *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float32_t&#160;</td>
          <td class="paramname"><em>scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float32_t *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To multiply a floating-point vectors by a floating-point scale. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">*src</td><td>pointer of the input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scale</td><td>constant scaling value </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*dst</td><td>pointer of the output vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>number of elements in a vector </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none.</dd></dl>
<p><b>Example</b> </p><pre>
     #define size 2
     float32_t src[size] = {0.8167, 0.5};
     float32_t dst[size] = {0};
     float32_t scale = 0.4;
     riscv_dsp_scale_f32(src, scale, dst, size);
This example also serves as a reference for examples of Q31, Q15, or Q7 scale functions.
    </pre> 
</div>
</div>
<a id="gaac4a3ba3f038bbf09c19fce5d7fc0c8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaac4a3ba3f038bbf09c19fce5d7fc0c8c">&#9670;&nbsp;</a></span>riscv_dsp_scale_q31()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void riscv_dsp_scale_q31 </td>
          <td>(</td>
          <td class="paramtype">q31_t *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q31_t&#160;</td>
          <td class="paramname"><em>scalefract</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>shift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q31_t *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To multiply a q31 vectors by a q31 scale. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">*src</td><td>pointer of the input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scalefract</td><td>constant fractional scaling value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">shift</td><td>bits for result adjustment (Please refer to Note 1. and 2. below) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*dst</td><td>pointer of the output vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>number of elements in a vector </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none.</dd></dl>
<p><b>Note:</b> </p>
<ol type="1">
<li>Due to fractional presentation, the results should fall within the Q31 range. You can use the input parameter, shift, to adjust the result values. The value of shift can range from 0 to 31 in this function.</li>
<li>The behavior of this funcition can be roughly presented as follows: <pre>
  dst[n] = (src[n] * scalefract) &gt;&gt; (31 - shift)
  Where 0 &lt;= n &lt; size and 0 &lt;= shift &lt;= 31.
  </pre> </li>
</ol>

</div>
</div>
<a id="ga63be6b023a64bd1269865e381e06e673"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga63be6b023a64bd1269865e381e06e673">&#9670;&nbsp;</a></span>riscv_dsp_scale_q15()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void riscv_dsp_scale_q15 </td>
          <td>(</td>
          <td class="paramtype">q15_t *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q15_t&#160;</td>
          <td class="paramname"><em>scalefract</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>shift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q15_t *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To multiply a q15 vectors by a q15 scale. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">*src</td><td>pointer of the input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scalefract</td><td>constant fractional scaling value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">shift</td><td>bits for result adjustment (Please refer to Note 1. and 2. below) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*dst</td><td>pointer of the output vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>number of elements in a vector </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none.</dd></dl>
<p><b>Note:</b> </p>
<ol type="1">
<li>Due to fractional presentation, the results should fall within the Q15 range. You can use the input parameter, shift, to adjust the result values. The value of shift can range from 0 to 15 in this function.</li>
<li>The behavior of this funcition can be roughly presented as follows: <pre>
  dst[n] = (src[n] * scalefract) &gt;&gt; (15 - shift)
  Where 0 &lt;= n &lt; size and 0 &lt;= shift &lt;= 15.
  </pre> </li>
</ol>

</div>
</div>
<a id="gab677354a603081f8eca2521cce14c123"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab677354a603081f8eca2521cce14c123">&#9670;&nbsp;</a></span>riscv_dsp_scale_q7()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void riscv_dsp_scale_q7 </td>
          <td>(</td>
          <td class="paramtype">q7_t *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q7_t&#160;</td>
          <td class="paramname"><em>scalefract</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>shift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q7_t *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To multiply a q7 vectors by a q7 scale. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">*src</td><td>pointer of the input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scalefract</td><td>constant fractional scaling value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">shift</td><td>bits for result adjustment (Please refer to Note 1. and 2. below) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*dst</td><td>pointer of the output vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>number of elements in a vector </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none.</dd></dl>
<p><b>Note:</b> </p>
<ol type="1">
<li>Due to fractional presentation, the results should fall within the Q7 range. You can use the input parameter, shift, to adjust the result values. The value of shift can range from 0 to 7 in this function.</li>
<li>The behavior of this funcition can be roughly presented as follows: <pre>
  dst[n] = (src[n] * scalefract) &gt;&gt; (7 - shift)
  Where 0 &lt;= n &lt; size and 0 &lt;= shift &lt;= 7.
  </pre> </li>
</ol>

</div>
</div>
<a id="ga53345d7b3a25c94cda7c99361667c95b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga53345d7b3a25c94cda7c99361667c95b">&#9670;&nbsp;</a></span>riscv_dsp_scale_u8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void riscv_dsp_scale_u8 </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q7_t&#160;</td>
          <td class="paramname"><em>scalefract</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>shift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To multiply a u8 vectors by a q7 scale. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">*src</td><td>pointer of the input vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scalefract</td><td>constant fractional scaling value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">shift</td><td>bits for result adjustment (Please refer to Note 1. and 2. below) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*dst</td><td>pointer of the output vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>number of elements in a vector </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none.</dd></dl>
<p><b>Note:</b> </p>
<ol type="1">
<li>Since the data type for the destination vector is uint8_t, the scaled results will be saturated to the uint8_t range [0x00, 0xFF]. You can also use the input parameter, shift, to adjust the result values. The value of shift can range from 0 to 7 in this function.</li>
<li>The behavior of this funcition can be roughly presented as follows: <pre>
  dst[n] = (src[n] * scalefract) &gt;&gt; (7 - shift)
  Where 0 &lt;= n &lt; size and 0 &lt;= shift &lt;= 7.
  </pre> </li>
</ol>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
