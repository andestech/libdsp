<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Andes DSP Library: Sparse FIR Filter Function</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="andes_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Andes DSP Library
   &#160;<span id="projectnumber">V2.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__spafir.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Sparse FIR Filter Function<div class="ingroups"><a class="el" href="group__filter.html">Filtering Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structriscv__dsp__spafir__f32__t.html">riscv_dsp_spafir_f32_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structriscv__dsp__spafir__q15__t.html">riscv_dsp_spafir_q15_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structriscv__dsp__spafir__q31__t.html">riscv_dsp_spafir_q31_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structriscv__dsp__spafir__q7__t.html">riscv_dsp_spafir_q7_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga770fbb483154bd8974d57dbbc51109f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spafir.html#ga770fbb483154bd8974d57dbbc51109f0">riscv_dsp_spafir_f32</a> (<a class="el" href="structriscv__dsp__spafir__f32__t.html">riscv_dsp_spafir_f32_t</a> *instance, float32_t *src, float32_t *dst, float32_t *buf, uint32_t size)</td></tr>
<tr class="separator:ga770fbb483154bd8974d57dbbc51109f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae0b3e034d40a5f41a7b282307f98dc76"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spafir.html#gae0b3e034d40a5f41a7b282307f98dc76">riscv_dsp_spafir_q15</a> (<a class="el" href="structriscv__dsp__spafir__q15__t.html">riscv_dsp_spafir_q15_t</a> *instance, q15_t *src, q15_t *dst, q15_t *buf1, q31_t *buf2, uint32_t size)</td></tr>
<tr class="separator:gae0b3e034d40a5f41a7b282307f98dc76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga571344b8d1813b6041c1c38ba263da7b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spafir.html#ga571344b8d1813b6041c1c38ba263da7b">riscv_dsp_spafir_q31</a> (<a class="el" href="structriscv__dsp__spafir__q31__t.html">riscv_dsp_spafir_q31_t</a> *instance, q31_t *src, q31_t *dst, q31_t *buf, uint32_t size)</td></tr>
<tr class="separator:ga571344b8d1813b6041c1c38ba263da7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1c10a061e84bae845873f7112f6c78c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spafir.html#ga1c10a061e84bae845873f7112f6c78c6">riscv_dsp_spafir_q7</a> (<a class="el" href="structriscv__dsp__spafir__q7__t.html">riscv_dsp_spafir_q7_t</a> *instance, q7_t *src, q7_t *dst, q7_t *buf1, q31_t *buf2, uint32_t size)</td></tr>
<tr class="separator:ga1c10a061e84bae845873f7112f6c78c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The sparse FIR filter function is the FIR filter with the majority of coefficients being zero. Due to this characteristic, the sparse FIR filter only keeps the non-zero coefficients and ignores the multiplication operation of signal and zero coefficients.</p>
<p>Andes DSP library supports distinct sparse FIR filter functions and instance structures for the following data types: single-precision floating-point, Q31, Q15 and Q7. Before you use sparse FIR filter functions, make sure you initialize the corresponding instance structures first. These functions and their instance structures are introduced in the subsections below. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga770fbb483154bd8974d57dbbc51109f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga770fbb483154bd8974d57dbbc51109f0">&#9670;&nbsp;</a></span>riscv_dsp_spafir_f32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void riscv_dsp_spafir_f32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structriscv__dsp__spafir__f32__t.html">riscv_dsp_spafir_f32_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float32_t *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float32_t *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float32_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>flaoting-point Sparse FIR Filters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">instance</td><td>pointer of the instance structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>pointer of the input vector </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dst</td><td>pointer of the output vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>pointer of the temporary vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>number of samples</td></tr>
  </table>
  </dd>
</dl>
<p><b>Note:</b> </p>
<p>The size of temporary buffer should be equal to size, size of the input vector.</p>
<p><b>Example</b> </p><pre>
The example below can be treated as the following formula:</pre><pre><code> y(n)=coeff(0)*x(n - nezdelay(0)) + coeff(1)*x(n - nezdelay(1))+ coeff(2)*x(n - nezdelay(2)) + coeff(3)*x(n - nezdelay(3)) </code></pre><pre>      #define coeff_size    4
      #define index         1
      #define size          6
      int32_t nezdelay[coeff_size] = {3, 0, 2, 1}
      #define delay         3</pre><pre>      float32_t state[delay + size] = {0.0};
      float32_t coeff[coeff_size] = {0.40, 0.10, 0.24, -0.40};
      float32_t src[size] = {1.0, 0.5, 0.4, -0.1, -0.1, 0.3};
      float32_t buf[size];
      float32_t dst[size];</pre><pre>      <a class="el" href="structriscv__dsp__spafir__f32__t.html" title="Structure for the flaoting-point Sparse FIR Filters.">riscv_dsp_spafir_f32_t</a> instance = {coeff_size, index, state, coeff, delay, nezdelay};
      riscv_dsp_spafir_f32(&amp;instance, src, dst, buf, size);</pre><pre>This example also serves as a reference for examples of Q31, Q15 and Q7 sparse FIR filter
functions.
    </pre> 
</div>
</div>
<a id="gae0b3e034d40a5f41a7b282307f98dc76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae0b3e034d40a5f41a7b282307f98dc76">&#9670;&nbsp;</a></span>riscv_dsp_spafir_q15()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void riscv_dsp_spafir_q15 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structriscv__dsp__spafir__q15__t.html">riscv_dsp_spafir_q15_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q15_t *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q15_t *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q15_t *&#160;</td>
          <td class="paramname"><em>buf1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q31_t *&#160;</td>
          <td class="paramname"><em>buf2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>q15 Sparse FIR Filters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">instance</td><td>pointer of the instance structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>pointer of the input vector </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dst</td><td>pointer of the output vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf1</td><td>pointer of the temporary buffer 1 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf2</td><td>pointer of the temporary buffer 2 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>number of samples</td></tr>
  </table>
  </dd>
</dl>
<p><b>Note:</b> </p>
<p>The temporary buffer 1 and 2 should both have a size of size (size of the input vector). </p>

</div>
</div>
<a id="ga571344b8d1813b6041c1c38ba263da7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga571344b8d1813b6041c1c38ba263da7b">&#9670;&nbsp;</a></span>riscv_dsp_spafir_q31()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void riscv_dsp_spafir_q31 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structriscv__dsp__spafir__q31__t.html">riscv_dsp_spafir_q31_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q31_t *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q31_t *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q31_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>q31 Sparse FIR Filters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">instance</td><td>pointer of the instance structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>pointer of the input vector </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dst</td><td>pointer of the output vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>pointer of the temporary vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>number of samples</td></tr>
  </table>
  </dd>
</dl>
<p><b>Note:</b> </p>
<p>The size of temporary buffer should be equal to size, size of the input vector. </p>

</div>
</div>
<a id="ga1c10a061e84bae845873f7112f6c78c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1c10a061e84bae845873f7112f6c78c6">&#9670;&nbsp;</a></span>riscv_dsp_spafir_q7()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void riscv_dsp_spafir_q7 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structriscv__dsp__spafir__q7__t.html">riscv_dsp_spafir_q7_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q7_t *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q7_t *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q7_t *&#160;</td>
          <td class="paramname"><em>buf1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">q31_t *&#160;</td>
          <td class="paramname"><em>buf2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>q7 Sparse FIR Filters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">instance</td><td>pointer of the instance structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>pointer of the input vector </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dst</td><td>pointer of the output vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf1</td><td>pointer of the temporary buffer 1 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf2</td><td>pointer of the temporary buffer 2 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>number of samples</td></tr>
  </table>
  </dd>
</dl>
<p><b>Note:</b> </p>
<p>The temporary buffer 1 and 2 should both have a size of size (size of the input vector). </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
